version: "3.9"

services:
  gdc-ian-safe-api:
    build:
      context: .
      dockerfile: Dockerfile
    image: gdc-ian-safe-api:latest
    container_name: gdc-ian-safe-api
    networks:
      - postgres_default
    ports:
        - "80:80"
    env_file:
      - data.env
    restart: unless-stopped
    # Voor dev: uncomment of comment volumes zodat lokale code direct gebruikt wordt:
    volumes:
    - ./app:/code/app

networks:
  postgres_default:
    external: true